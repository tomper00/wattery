<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="./common.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wattery - Inspiring Sustainable Hospitality, One Guest at a Time</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="counter.css">

</head>

<body>
    <!-- Navigation -->
    <div id="menu"></div>
    <div id="header" class="hero-bg">
        <video autoplay muted loop class="background-video">
            <source src="video/slow-motion-rippling-water-droplets-up-close-SBV-300026096-HD.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>
        <header class="text-white text-center py-5">
            <div class="container">
                <!--h1>Welcome to Wattery</h1-->
                <button id="cta-button" class="btn-lg btn-primary mt-4">Watch Video</button>
                <div class="typewriter-container fade-in-text" id="typewriter-text"></div>
        </header>
    </div>
    <!-- Modal for Video -->
    <div id="video-modal" class="video-modal">
        <div class="video-modal-content">
            <span class="close-button">&times;</span>
            <video controls>
                <source src="video/wattery3-small.mp4" type="video/mp4">
                Your browser does not support HTML5 video.
            </video>
        </div>
    </div>
    <script>
        const texts = [
            {
                content: "Guests save water and electricity",
                position: "left", // or "left", "right"
                size: "2rem",
                color: "#333",
                margintop: "10%" // Vertical position
            },
            {
                content: "Hotels save money",
                position: "right",
                size: "2.3rem",
                color: "#222",
                margintop: "25%" // Vertical position
            },
            {
                content: "Together, we save the environment",
                position: "center",
                size: "3rem",
                color: "#000",
                margintop: "35%" // Vertical position
            }
        ];
        let currentIndex = 0;

        function typeWriter() {
            const textElement = document.getElementById('typewriter-text');

            // Remove the animation class to reset it
            textElement.classList.remove('fade-in-text');
            textElement.classList.add('reset-animation');

            // Force reflow to restart the animation
            void textElement.offsetWidth;

            // Set the new text and its properties
            const { content, position, size, color, margintop } = texts[currentIndex];
            textElement.textContent = content;
            textElement.style.textAlign = position;
            textElement.style.fontSize = size;
            textElement.style.color = color;
            textElement.style.margin = margintop + "0 0 0";

            currentIndex = (currentIndex + 1) % texts.length;

            // Re-add the animation class
            textElement.classList.remove('reset-animation');
            textElement.classList.add('fade-in-text');
        }

        typeWriter();
        setInterval(typeWriter, 3000); // Change text every 3 seconds

        // Video Modal Script
        const ctaButton = document.getElementById('cta-button');
        const videoModal = document.getElementById('video-modal');
        const closeButton = document.querySelector('.close-button');

        ctaButton.addEventListener('click', () => {
            videoModal.style.display = 'block';
        });

        closeButton.addEventListener('click', () => {
            videoModal.style.display = 'none';
            //play the video
            videoModal.querySelector('video').play();
        });

        window.addEventListener('click', (event) => {
            if (event.target === videoModal) {
                videoModal.style.display = 'none';
            }
        });
    </script>
    <section id="counter">
        <h2>Smart transparency that nudges your guests towards sustainable behavior</h2>
        <video autoplay muted loop class="background-video">
            <source src="video/iStock-544073220.mp4" type="video/mp4">
        </video>
        <div class="content tablet">
            <div class="container">
                <h3>WATER USAGE TODAY</h3>
                <div class="counter-display">
                    <div class="counter" id="counterdigits">101.0</div>
                    <p class="liters">liters</p>
                </div>
                <hr>
                <div class="description">
                    <p>95/203 Room Rank</p>
                    <p>250<span class="liters">liters</span> Hotel AVG</p>
                </div>
            </div>
        </div>
    </section>
    <section id="watt">
        <video autoplay muted loop class="background-video">
            <source src="video/iStock-1224642078.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>
        <div class="content">
            <div class="container text">
                <h2>THE WATT IN WATTERY</h2>
                <p>Guests see their electrical usage.</p>
                <p>Hotels can gamify it and award prizes.</p>
            </div>
        </div>
        <div class="content tablet">
            <div class="container">
                <h3>ELECTRICITY USAGE TODAY</h3>
                <div class="counter-display">
                    <div class="counter" id="counterdigits2">0101.0</div>
                    <p class="liters">watt</p>
                </div>
                <hr>
                <div class="description">
                    <p>95/203 Room Rank</p>
                    <p>250<span class="liters">watt</span> Hotel AVG</p>
                </div>
            </div>
        </div>
    </section>
    <section id="savings" class="container">
        <div class="row align-items-center">
            <h2 class="h2 ">THE SAVINGS ISN'T JUST GOOD PR... IT PAYS FOR ITSELF</h2>
        </div>
        <div class="row align-items-center">
            <div class="col-6">
                <div class="Water">
                    <h3>Water savings</h3>
                    <svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
                        <!-- Background circle with gray border -->
                        <circle cx="100" cy="100" r="90" stroke="#ccc" stroke-width="10" fill="black" />
                        <!-- Foreground circle with orange border representing 15% -->
                        <path d="M100,10 A90,90 0 0,1 182.63,117.37" stroke="orange" stroke-width="10" fill="none" />
                        <!-- Text displaying 15% in white in the middle -->
                        <text x="50%" y="50%" text-anchor="middle" fill="white" font-size="40" dy=".3em">15%</text>
                    </svg>
                    <p>Savings this month: <span>504 $</span></p>
                </div>
            </div>
            <div class="col-6">
                <div class="Electricity">
                        <h3>Electricity savings</h3>
                    <svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
                            <!-- Background circle with gray border -->
                            <circle cx="100" cy="100" r="90" stroke="#ccc" stroke-width="10" fill="black" />
                            <!-- Foreground circle with orange border representing 22% -->
                            <path d="M100,10 A90,90 0 0,1 185.93,137.05" stroke="orange" stroke-width="10"
                                fill="none" />
                            <!-- Text displaying 22% in white in the middle -->
                            <text x="50%" y="50%" text-anchor="middle" fill="white" font-size="40" dy=".3em">22%</text>
                        </svg>
                    <p>Savings this month: <span>708 $</span></p>
                </div>
            </div>
        </div>
        <div class="row align-items-center">
            <a id="roi-button" class="btn-lg btn-primary mt-4" href="./ROI.html">ROI Calculator</a>        </div>
    </section>
    <section id="dashboard">
        <div class="content">
            <div class="container">
                <h2 class="right-align">Realtime Analytics across the entire hotel</h2>
            </div>
        </div>
    </section>
    <section id="easy">
        <div class="content">
            <h2>Install in seconds</h2>
            <div class="row">
                <div class="col-6">
                    <img src="img/BB-Install-Final-v05-min.gif" class="img-fluid">
                </div>
                <div class="col-6">
                    <img src="img/bluebot-universal-flow-meter-pipe-size.webp" class="img-fluid">
                    <p>Fits on 80 different pipes sizes</p>
                </div>
            </div>
        </div>
    </section>
    <section id="hero">
        <div class="content">
            <div class="container">
                <h2>HouseKeeping Hero</h2>
                <p>Keep guest and housekeeping water usage separate. And make sure the cleaning staff is also practicing
                    sustainable behavior</p>
            </div>
        </div>
    </section>
    <section id="contact" class="bg-light py-5">
        <div class="container">
            <h2 class="text-center">Contact Us</h2>
            <a href="info@wattery.org">info@wattery.org</a>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer"></div>
    <script>
        const counterElement = document.getElementById("counterdigits");
        const counterElement2 = document.getElementById("counterdigits2");
        let count = 101.0;
        let interval = 100; // Start with 0.1 seconds
        let decrement = 50; // Decrease interval by 50ms each step

        function padNumber(num, size) {
            let s = num.toFixed(1); // Ensure the number has one decimal place
            while (s.length < size) s = "0" + s;
            return s;
        }

        function updateCounter() {
            count += 0.1;
            if (count >= 200.0) {
                count = 101.0;
                interval = 3000; // Reset interval when restarting
            }
            const paddedCount = padNumber(count, 8);
            counterElement.textContent = paddedCount;
            counterElement2.textContent = paddedCount;


            // Decrease the interval to speed up the counter
            if (interval > 100) { // Set a minimum interval limit
                interval -= decrement;
            }
        }

        // Start the counter
        setInterval(updateCounter, interval); // Repeatedly call updateCounter
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>